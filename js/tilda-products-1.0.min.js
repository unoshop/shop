function t_prod__init(t){var e=document.querySelector("#rec"+t);if(e){var r=e.querySelectorAll(".js-product");Array.prototype.forEach.call(r,(function(e){e.querySelector(".js-product-option")&&t_prod__initProduct(t,e)}))}}function t_prod__initProduct(t,e){t_prod__initPrice(e),t_prod__addEvents__options(t,e),t_prod__updatePrice(t,e)}function t_prod__initPrice(t){if(t instanceof Element||(t=t[0]),t){var e=t.querySelector(".js-product-price");e||(t.insertAdjacentHTML("beforeend",'<div style="display:none;" class="js-product-price"></div>'),e=t.querySelector(".js-product-price"));var r=e.textContent,o=e.getAttribute("data-product-price-def"),n=e.getAttribute("data-product-price-def-str");if(r){if(!o&&!n){var c=t_prod__cleanPrice(r);e.setAttribute("data-product-price-def",c),e.setAttribute("data-product-price-def-str",r.replace(/"/g,""))}}else e.setAttribute("data-product-price-def",0)}}function t_prod__updatePrice(t,e){if(e instanceof Element||(e=e[0]),e){var r=e.querySelector(".js-product-price:not(.js-store-prod-price-range-val)"),o=e.querySelectorAll(".js-product-option-variants"),n=0,c=0;if(r){var i=r.getAttribute("data-product-price-def");i*=1,Array.prototype.forEach.call(o,(function(t){if(t){var e=t.querySelector("option:checked").getAttribute("data-product-variant-price");if(e){var r=t_prod__cleanPrice(e);-1!==e.indexOf("+")?c+=r:0!==parseFloat(r)&&(i=r)}}})),n=i+c,r.innerHTML=n>0?t_prod__showPrice(t_prod__roundPrice(n)):r.getAttribute("data-product-price-def-str")}}}function t_prod__addEvents__options(t,e){if(e instanceof Element||(e=e[0]),e){var r=e.querySelectorAll(".js-product-option-variants");Array.prototype.forEach.call(r,(function(e){var r=e.closest(".js-product");e.addEventListener("change",(function(){t_prod__updatePrice(t,r),t_prod__triggerEvent(document.body,"twishlist_addbtn")}))}))}}function t_prod__cleanPrice(t){return t?(t=(t=t.toString()).replace(",",".").replace(/[^0-9.]/g,""),t=parseFloat(t).toFixed(2),isNaN(t)&&(t=0),t=parseFloat(t),(t*=1)<0&&(t=0)):t=0,t}function t_prod__roundPrice(t){return t?(t=parseFloat(t).toFixed(2),t=parseFloat(t),(t*=1)<0&&(t=0)):t=0,t}function t_prod__showPrice(t){t?(t=t.toString(),window.tcart&&window.tcart.currency_dec&&"00"===window.tcart.currency_dec&&(-1===t.indexOf(".")&&-1===t.indexOf(",")?t+=".00":1===t.substr(t.indexOf(".")+1).length&&(t+="0")),t=t.replace(/\B(?=(\d{3})+(?!\d))/g," "),t=window.tcart&&window.tcart.currency_sep&&"."===window.tcart.currency_sep?t.replace(",","."):t.replace(".",",")):t="";return t}function t_prod__triggerEvent(t,e){var r;document.createEvent?(r=document.createEvent("HTMLEvents")).initEvent(e,!0,!1):document.createEventObject&&((r=document.createEventObject()).eventType=e),r.eventName=e,t.dispatchEvent?t.dispatchEvent(r):t.fireEvent?t.fireEvent("on"+r.eventType,r):t[e]?t[e]():t["on"+e]&&t["on"+e]()}Array.prototype.some||(Array.prototype.some=function(t){"use strict";if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof t)throw new TypeError;for(var e=Object(this),r=e.length>>>0,o=arguments.length>=2?arguments[1]:void 0,n=0;n<r;n++)if(n in e&&t.call(o,e[n],n,e))return!0;return!1}),function(t){var e=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;t.matches=t.matchesSelector=e||function(t){var e=document.querySelectorAll(t),r=this;return Array.prototype.some.call(e,(function(t){return t===r}))}}(Element.prototype),Element.prototype.closest||(Element.prototype.closest=function(t){for(var e=this;e&&1===e.nodeType;){if(Element.prototype.matches.call(e,t))return e;e=e.parentElement||e.parentNode}return null});